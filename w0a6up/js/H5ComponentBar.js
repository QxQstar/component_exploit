/* 柱图组件对象 */
var H5ComponentBar = function(name,cfg){
	var component = new H5ComponentBase(name,cfg);
	
	$.each(cfg.data,function(index,value){
		var line = $("<div class='line clearfix'></div>");
		var name = $("<div class='name'></div>");
		var rate = $("<div class='rate'></div>");
		var per = $("<div class='per'></div>");
		name.text(value[0]);
		rate.html("<div class='bg'></div>");
		rate.width((value[1]*100) + "%");
		per.text(value[1]*100 + '%');
		line.append(name).append(rate).append(per);
		rate.find('.bg').on('onLoad',function(event){
            event.stopPropagation();
			$(this).stop(true,true).animate({width:'100%'},800);
		});
		rate.find('.bg').on('onLeave',function(event){
            event.stopPropagation();
			$(this).stop().animate({width:'0'},800);
		});
        per.on('onLoad',function(event){
            event.stopPropagation();
                $(this).stop(true,true).animate({opacity:'1'},800);
        });
       per.on('onLeave',function(event){
           event.stopPropagation();
            $(this).stop().animate({opacity:"0"},800);
        });
		component.append(line);
	});
    component.on('onLoad',function(){
          $(this).find('.bg').trigger('onLoad');
        $(this).find('.per').trigger('onLoad');
    });
    component.on('onLeave',function(){
        $(this).find('.bg').trigger('onLeave');
        $(this).find('.per').trigger('onLoad');
    });
	return component;
};
